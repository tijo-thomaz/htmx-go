{{define "title"}}{{.User.DisplayName}} - LinkBio{{end}}

{{define "head"}}
<meta name="description" content="{{.User.Bio}}">
{{end}}

{{define "bodyClass"}}{{end}}

{{define "content"}}
<div x-data="{ darkMode: false }" 
     :class="darkMode ? 'dark bg-gradient-to-b from-gray-900 to-gray-800' : 'bg-gradient-to-b from-gray-50 to-gray-100'"
     class="min-h-screen transition-colors duration-300">
    
    <!-- Background Pattern -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none" :class="darkMode ? 'opacity-20' : 'opacity-30'">
        <div class="absolute top-0 left-1/4 w-96 h-96 rounded-full blur-3xl" :class="darkMode ? 'bg-indigo-600' : 'bg-indigo-300'"></div>
        <div class="absolute bottom-0 right-1/4 w-96 h-96 rounded-full blur-3xl" :class="darkMode ? 'bg-purple-600' : 'bg-purple-300'"></div>
    </div>
    
    <div class="relative z-10 container mx-auto px-6 py-12 max-w-lg min-h-screen flex flex-col">
        <!-- Profile Header -->
        <div class="text-center mb-10" data-aos="fade-down" data-aos-duration="800">
            <!-- Avatar -->
            <div class="relative inline-block mb-6">
                <div class="w-28 h-28 rounded-3xl avatar-gradient flex items-center justify-center text-5xl font-bold text-white avatar-glow">
                    {{if .User.AvatarURL}}
                    <img src="{{.User.AvatarURL}}" alt="{{.User.DisplayName}}" class="w-full h-full rounded-3xl object-cover">
                    {{else}}
                    {{slice .User.Username 0 1 | upper}}
                    {{end}}
                </div>
                <div class="absolute -bottom-2 -right-2 w-8 h-8 rounded-xl bg-green-500 border-4 flex items-center justify-center" :class="darkMode ? 'border-gray-900' : 'border-white'">
                    <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                </div>
            </div>
            
            <!-- Name & Bio -->
            <h1 class="text-2xl font-bold mb-1" :class="darkMode ? 'text-white' : 'text-gray-900'">{{.User.DisplayName}}</h1>
            <p class="mb-3" :class="darkMode ? 'text-gray-400' : 'text-gray-500'">@{{.User.Username}}</p>
            {{if .User.Bio}}
            <p class="max-w-sm mx-auto" :class="darkMode ? 'text-gray-300' : 'text-gray-600'">{{.User.Bio}}</p>
            {{end}}
        </div>
        
        <!-- Theme Toggle -->
        <div class="flex justify-center gap-3 mb-8" data-aos="fade-up" data-aos-delay="100">
            <button @click="darkMode = !darkMode"
                    class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all backdrop-blur-md"
                    :class="darkMode ? 'bg-gray-800/80 text-gray-300 hover:bg-gray-700' : 'bg-white/80 text-gray-600 hover:bg-white'">
                <template x-if="!darkMode">
                    <span class="flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                        </svg>
                        Dark Mode
                    </span>
                </template>
                <template x-if="darkMode">
                    <span class="flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
                        </svg>
                        Light Mode
                    </span>
                </template>
            </button>
            
            <button x-data="{ copied: false }"
                    @click="navigator.clipboard.writeText(window.location.href); copied = true; setTimeout(() => copied = false, 2000)"
                    class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all backdrop-blur-md"
                    :class="copied 
                        ? 'bg-green-500 text-white' 
                        : (darkMode ? 'bg-gray-800/80 text-gray-300 hover:bg-gray-700' : 'bg-white/80 text-gray-600 hover:bg-white')">
                <template x-if="!copied">
                    <span class="flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
                        </svg>
                        Share
                    </span>
                </template>
                <template x-if="copied">
                    <span class="flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                        Copied!
                    </span>
                </template>
            </button>
        </div>
        
        <!-- Links -->
        <div class="flex-1 space-y-4" id="links-container">
            {{if .Links}}
                {{range $index, $link := .Links}}
                <a href="/click/{{$link.ID}}" 
                   target="_blank"
                   rel="noopener"
                   class="link-button block w-full p-5 rounded-2xl text-center font-medium backdrop-blur-md border transition-all"
                   :class="darkMode ? 'bg-gray-800/60 text-white border-gray-700 hover:bg-gray-700/80' : 'bg-white/80 text-gray-800 border-white hover:bg-white'"
                   data-aos="fade-up" 
                   data-aos-delay="{{multiply $index 50}}">
                    <span class="text-lg">{{$link.Title}}</span>
                </a>
                {{end}}
            {{else}}
            <div class="text-center py-12">
                <div class="w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center" :class="darkMode ? 'bg-gray-700' : 'bg-gray-200'">
                    <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                    </svg>
                </div>
                <p :class="darkMode ? 'text-gray-400' : 'text-gray-500'">No links yet</p>
            </div>
            {{end}}
        </div>
        
        <!-- Footer -->
        <div class="text-center mt-12 pt-8 border-t" :class="darkMode ? 'border-gray-800' : 'border-gray-200'" data-aos="fade-up">
            <a href="/" class="inline-flex items-center gap-2 text-sm transition-colors" :class="darkMode ? 'text-gray-400 hover:text-gray-300' : 'text-gray-400 hover:text-gray-600'">
                <span class="font-medium text-gradient">LinkBio</span>
            </a>
        </div>
    </div>
</div>
{{end}}

{{define "scripts"}}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof AOS !== 'undefined') {
            AOS.init({
                duration: 600,
                easing: 'ease-out-cubic',
                once: true,
                offset: 20
            });
        }
        
        if (typeof gsap !== 'undefined') {
            gsap.from('.link-button', {
                y: 20,
                stagger: 0.08,
                duration: 0.5,
                ease: 'power3.out',
                delay: 0.2
            });
        }
    });
</script>
{{end}}
